<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端存储 | VC&#39;s Blog</title>
    <meta name="description" content="记录一下叭🐌">
    
    
    <link rel="preload" href="/assets/css/0.styles.058b2d67.css" as="style"><link rel="preload" href="/assets/js/app.3d620a6f.js" as="script"><link rel="preload" href="/assets/js/18.5ee51ef9.js" as="script"><link rel="prefetch" href="/assets/js/10.0ab68627.js"><link rel="prefetch" href="/assets/js/11.79396d94.js"><link rel="prefetch" href="/assets/js/12.c84ca706.js"><link rel="prefetch" href="/assets/js/13.cc9287f8.js"><link rel="prefetch" href="/assets/js/14.69138d78.js"><link rel="prefetch" href="/assets/js/15.971bb51c.js"><link rel="prefetch" href="/assets/js/16.1e10d839.js"><link rel="prefetch" href="/assets/js/17.e96aff6e.js"><link rel="prefetch" href="/assets/js/19.dfabf67f.js"><link rel="prefetch" href="/assets/js/2.fe4a76b1.js"><link rel="prefetch" href="/assets/js/20.45e6fa32.js"><link rel="prefetch" href="/assets/js/21.9d90f167.js"><link rel="prefetch" href="/assets/js/22.bc222999.js"><link rel="prefetch" href="/assets/js/23.50e02b83.js"><link rel="prefetch" href="/assets/js/24.196726eb.js"><link rel="prefetch" href="/assets/js/25.35b23e5c.js"><link rel="prefetch" href="/assets/js/26.30b67b5e.js"><link rel="prefetch" href="/assets/js/27.dd5f26e2.js"><link rel="prefetch" href="/assets/js/28.5bb22549.js"><link rel="prefetch" href="/assets/js/29.cd1a78d5.js"><link rel="prefetch" href="/assets/js/3.b6b016ad.js"><link rel="prefetch" href="/assets/js/30.a08bb659.js"><link rel="prefetch" href="/assets/js/31.b6a25c09.js"><link rel="prefetch" href="/assets/js/4.975d3a1f.js"><link rel="prefetch" href="/assets/js/5.e5a53480.js"><link rel="prefetch" href="/assets/js/6.3c214a26.js"><link rel="prefetch" href="/assets/js/7.29aba97e.js"><link rel="prefetch" href="/assets/js/8.2c61a77c.js"><link rel="prefetch" href="/assets/js/9.c38e0b2c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.058b2d67.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">VC's Blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">notes</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">javaScript</a></li><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">HTML/CSS</a></li><li class="dropdown-item"><!----> <a href="/http/" class="nav-link router-link-active">Http/浏览器/性能</a></li><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nodejs/" class="nav-link">NodeJs</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div><div class="nav-item"><a href="https://github.com/wht1995" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">notes</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/" class="nav-link">javaScript</a></li><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">HTML/CSS</a></li><li class="dropdown-item"><!----> <a href="/http/" class="nav-link router-link-active">Http/浏览器/性能</a></li><li class="dropdown-item"><h4>后端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/nodejs/" class="nav-link">NodeJs</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/about.html" class="nav-link">About</a></div><div class="nav-item"><a href="https://github.com/wht1995" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/http/" class="sidebar-link">这是HTTP的首页呀</a></li><li><a href="/http/tcp_3and4.html" class="sidebar-link">Tcp 三次握手四次挥手</a></li><li><a href="/http/浏览器缓存机制.html" class="sidebar-link">浏览器缓存机制</a></li><li><a href="/http/记一次性能优化.html" class="sidebar-link">记一次性能优化</a></li><li><a href="/http/cookie.html" class="active sidebar-link">前端存储</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/http/cookie.html#cookie" class="sidebar-link">cookie</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/http/cookie.html#客户端设置" class="sidebar-link">客户端设置</a></li><li class="sidebar-sub-header"><a href="/http/cookie.html#服务端设置" class="sidebar-link">服务端设置</a></li></ul></li><li class="sidebar-sub-header"><a href="/http/cookie.html#localstorage" class="sidebar-link">localStorage</a></li><li class="sidebar-sub-header"><a href="/http/cookie.html#sessionstorage" class="sidebar-link">sessionStorage</a></li><li class="sidebar-sub-header"><a href="/http/cookie.html#三者区别" class="sidebar-link">三者区别</a></li></ul></li><li><a href="/http/XSS.html" class="sidebar-link">XSS 攻击</a></li><li><a href="/http/CSRF.html" class="sidebar-link">CSRF 攻击</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>http基础</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="前端存储"><a href="#前端存储" aria-hidden="true" class="header-anchor">#</a> 前端存储</h1> <p>主要记录一下在开发过程中常用的三种存储方法：<code>cookie</code>、<code>localStorage</code>、<code>sessionStorage</code>。</p> <h2 id="cookie"><a href="#cookie" aria-hidden="true" class="header-anchor">#</a> cookie</h2> <p>因为我们通过 HTTP 协议进行网络通信是无状态的，服务器并不知道是谁在请求服务，所以为了分辨出来用户，于是出现了 <code>cookie</code> 。它用来简单记录一些用户的信息，存储小量的数据。</p> <p>当网页要发 http 请求时，浏览器会先检查是否有相应的 cookie，有则自动添加在 request-header 中的 cookie字段中。这些是浏览器自动帮我们做的，而且每一次 http 请求浏览器都会自动帮我们做。</p> <h3 id="客户端设置"><a href="#客户端设置" aria-hidden="true" class="header-anchor">#</a> 客户端设置</h3> <div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">&quot;name = value&quot;</span>
 <span class="token comment">// or</span>
document<span class="token punctuation">.</span>cookie <span class="token operator">=</span> <span class="token string">&quot;username=david;domain=baike.baidu.com&quot;</span> <span class="token comment">//指定了生效的域名</span>
</code></pre></div><h3 id="服务端设置"><a href="#服务端设置" aria-hidden="true" class="header-anchor">#</a> 服务端设置</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//在response-header中</span>
<span class="token keyword">set</span><span class="token operator">-</span>cookies <span class="token punctuation">:</span> username<span class="token operator">=</span>david<span class="token punctuation">;</span>domain<span class="token operator">=</span>baike<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com
</code></pre></div><p>可选属性：</p> <ul><li><p>domain：<code>domain</code> 指定了 cookie 将要被发送至哪个或哪些域中。</p></li> <li><p>path：<code>Path</code> 标识指定了主机下的哪些路径可以接受 cookie</p></li> <li><p>expires：<code>expires</code> 为 Cookie 的删除设置一个过期的日期</p></li> <li><p>httpOnly：开启该选项后，客户端 <code>js</code> 无法访问到 cookie</p></li> <li><p>secure:  用来设置 cookie 只在确保安全的请求中才会发送,例如通过 HTTPS 安全协议</p> <p>例如：<code>document.cookie = &quot;username=david;domain=baike.baidu.com;secure&quot;</code></p></li></ul> <h2 id="localstorage"><a href="#localstorage" aria-hidden="true" class="header-anchor">#</a> localStorage</h2> <p>HTML5 新方法</p> <p><strong>使用方式：</strong></p> <ul><li>设置：<code>document.setItem(&quot;name&quot;, &quot;david&quot;)</code></li> <li>获取：<code>document.getItem(&quot;name&quot;) //返回david</code></li> <li>删除: <code>document.removeItem(&quot;name&quot;) || document.clear()</code></li></ul> <h2 id="sessionstorage"><a href="#sessionstorage" aria-hidden="true" class="header-anchor">#</a> sessionStorage</h2> <p>使用方式和 <code>localStorage</code> 类似</p> <h2 id="三者区别"><a href="#三者区别" aria-hidden="true" class="header-anchor">#</a> 三者区别</h2> <p><strong>生命周期</strong></p> <p>cookie：可设置过期时间，若未设置，则关闭浏览器后失效</p> <p>localStorage：若不手动删除，会一直保存在浏览器中</p> <p>sessionStorage：关闭当前会话的页面后失效</p> <p><strong>存储大小</strong></p> <p>cookie：4kb</p> <p>其余两者：5mb</p> <p><strong>HTTP请求</strong></p> <p>cookie：每次都会携带在 http 的头中</p> <p>其余两者：仅仅存储在浏览器，不参与 http 通信</p> <p><strong>访问限制</strong></p> <p>cookie：根据用户设置而定</p> <p>localStorage：存储的信息在同一域中是共享的，新开的 tab 是可以访问到的</p> <p>sessionStorage：只有当前设定的域下才能访问，而且不同的两个tab之间不能互通</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/http/记一次性能优化.html" class="prev">
          记一次性能优化
        </a></span> <span class="next"><a href="/http/XSS.html">
          XSS 攻击
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.3d620a6f.js" defer></script><script src="/assets/js/18.5ee51ef9.js" defer></script>
  </body>
</html>
