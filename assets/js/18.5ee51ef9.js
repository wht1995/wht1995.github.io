(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{209:function(e,a,t){"use strict";t.r(a);var s=t(0),o=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"前端存储"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端存储","aria-hidden":"true"}},[e._v("#")]),e._v(" 前端存储")]),e._v(" "),t("p",[e._v("主要记录一下在开发过程中常用的三种存储方法："),t("code",[e._v("cookie")]),e._v("、"),t("code",[e._v("localStorage")]),e._v("、"),t("code",[e._v("sessionStorage")]),e._v("。")]),e._v(" "),t("h2",{attrs:{id:"cookie"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cookie","aria-hidden":"true"}},[e._v("#")]),e._v(" cookie")]),e._v(" "),t("p",[e._v("因为我们通过 HTTP 协议进行网络通信是无状态的，服务器并不知道是谁在请求服务，所以为了分辨出来用户，于是出现了 "),t("code",[e._v("cookie")]),e._v(" 。它用来简单记录一些用户的信息，存储小量的数据。")]),e._v(" "),t("p",[e._v("当网页要发 http 请求时，浏览器会先检查是否有相应的 cookie，有则自动添加在 request-header 中的 cookie字段中。这些是浏览器自动帮我们做的，而且每一次 http 请求浏览器都会自动帮我们做。")]),e._v(" "),t("h3",{attrs:{id:"客户端设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#客户端设置","aria-hidden":"true"}},[e._v("#")]),e._v(" 客户端设置")]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[e._v("document"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("cookie "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name = value"')]),e._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// or")]),e._v("\ndocument"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("cookie "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"username=david;domain=baike.baidu.com"')]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//指定了生效的域名")]),e._v("\n")])])]),t("h3",{attrs:{id:"服务端设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务端设置","aria-hidden":"true"}},[e._v("#")]),e._v(" 服务端设置")]),e._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("//在response-header中")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("set")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),e._v("cookies "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" username"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("david"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("domain"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("baike"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("baidu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("com\n")])])]),t("p",[e._v("可选属性：")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("domain："),t("code",[e._v("domain")]),e._v(" 指定了 cookie 将要被发送至哪个或哪些域中。")])]),e._v(" "),t("li",[t("p",[e._v("path："),t("code",[e._v("Path")]),e._v(" 标识指定了主机下的哪些路径可以接受 cookie")])]),e._v(" "),t("li",[t("p",[e._v("expires："),t("code",[e._v("expires")]),e._v(" 为 Cookie 的删除设置一个过期的日期")])]),e._v(" "),t("li",[t("p",[e._v("httpOnly：开启该选项后，客户端 "),t("code",[e._v("js")]),e._v(" 无法访问到 cookie")])]),e._v(" "),t("li",[t("p",[e._v("secure:  用来设置 cookie 只在确保安全的请求中才会发送,例如通过 HTTPS 安全协议")]),e._v(" "),t("p",[e._v("例如："),t("code",[e._v('document.cookie = "username=david;domain=baike.baidu.com;secure"')])])])]),e._v(" "),t("h2",{attrs:{id:"localstorage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#localstorage","aria-hidden":"true"}},[e._v("#")]),e._v(" localStorage")]),e._v(" "),t("p",[e._v("HTML5 新方法")]),e._v(" "),t("p",[t("strong",[e._v("使用方式：")])]),e._v(" "),t("ul",[t("li",[e._v("设置："),t("code",[e._v('document.setItem("name", "david")')])]),e._v(" "),t("li",[e._v("获取："),t("code",[e._v('document.getItem("name") //返回david')])]),e._v(" "),t("li",[e._v("删除: "),t("code",[e._v('document.removeItem("name") || document.clear()')])])]),e._v(" "),t("h2",{attrs:{id:"sessionstorage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sessionstorage","aria-hidden":"true"}},[e._v("#")]),e._v(" sessionStorage")]),e._v(" "),t("p",[e._v("使用方式和 "),t("code",[e._v("localStorage")]),e._v(" 类似")]),e._v(" "),t("h2",{attrs:{id:"三者区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三者区别","aria-hidden":"true"}},[e._v("#")]),e._v(" 三者区别")]),e._v(" "),t("p",[t("strong",[e._v("生命周期")])]),e._v(" "),t("p",[e._v("cookie：可设置过期时间，若未设置，则关闭浏览器后失效")]),e._v(" "),t("p",[e._v("localStorage：若不手动删除，会一直保存在浏览器中")]),e._v(" "),t("p",[e._v("sessionStorage：关闭当前会话的页面后失效")]),e._v(" "),t("p",[t("strong",[e._v("存储大小")])]),e._v(" "),t("p",[e._v("cookie：4kb")]),e._v(" "),t("p",[e._v("其余两者：5mb")]),e._v(" "),t("p",[t("strong",[e._v("HTTP请求")])]),e._v(" "),t("p",[e._v("cookie：每次都会携带在 http 的头中")]),e._v(" "),t("p",[e._v("其余两者：仅仅存储在浏览器，不参与 http 通信")]),e._v(" "),t("p",[t("strong",[e._v("访问限制")])]),e._v(" "),t("p",[e._v("cookie：根据用户设置而定")]),e._v(" "),t("p",[e._v("localStorage：存储的信息在同一域中是共享的，新开的 tab 是可以访问到的")]),e._v(" "),t("p",[e._v("sessionStorage：只有当前设定的域下才能访问，而且不同的两个tab之间不能互通")])])}],!1,null,null,null);a.default=o.exports}}]);